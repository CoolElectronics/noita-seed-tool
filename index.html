<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Noita Seed Tool App</title>
  <script>
    let currentSeed = 0;
    function SetSeed(seed) {
      if (seed && seed !== currentSeed) {
        document.getElementById('seed-tool-frame').src = `https://cr4xy.dev/noita/?seed=${seed}`
        currentSeed = seed

        var alchemy = MaterialPicker.PickForSeed(seed);
        if (this.seed != 0) {
          document.getElementById("alchemycontainer").style.visibility =
            "visible";
          document.getElementById("lc1").innerText = alchemy.LC[0];
          document.getElementById("lc2").innerText = alchemy.LC[1];
          document.getElementById("lc3").innerText = alchemy.LC[2];

          document.getElementById("ap1").innerText = alchemy.AP[0];
          document.getElementById("ap2").innerText = alchemy.AP[1];
          document.getElementById("ap3").innerText = alchemy.AP[2];
        } else {
          document.getElementById("alchemycontainer").style.visibility = "hidden";
        }
      }
    }
  </script>
  <script src="alcalc.js"></script>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <div class="scuffed-idiot-hacks" id="savescumcontainer">
    <p class="scuffed-idiot-hacks" id="savescumtitle">Save Scum Manager</p>
    <div class="buttons">
      <button class="scuffed-idiot-hacks" id="savebutton" onclick="window.postMessage('makesave')">Save Game</button>
      <button class="scuffed-idiot-hacks" id="loadbutton" onclick="window.postMessage('loadsave')">Load Save</button>
      <button class="scuffed-idiot-hacks" id="opennoita" onclick="window.postMessage('opennoita')">Noita.exe</button>
      <button class="scuffed-idiot-hacks" id="opensaves" onclick="window.postMessage('opensaves')">Save Locations</button>
    </div>
  </div>

  <div class="scuffed-idiot-hacks" id="alchemycontainer">
    <div id="lc">
      <p class="centered">LC:</p>

      <p class="alch-comp centered" id = "lc1"></p>
      <p class="alch-comp centered" id = "lc2"></p>
      <p class="alch-comp centered" id = "lc3"></p>

    </div>
    <div id="ap">
      <p class="centered">AP:</p>
      <p class="alch-comp centered" id = "ap1"></p>
      <p class="alch-comp centered" id = "ap2"></p>
      <p class="alch-comp centered" id = "ap3"></p>
    </div>
  </div>
  
  <div id="content">
    <iframe id="seed-tool-frame" width="100%" height="100%" frameborder="0" src="https://cr4xy.dev/noita/"></iframe>
  </div>
</body>
</html>
